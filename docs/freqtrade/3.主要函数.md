---
title: ä¸»è¦å‡½æ•°
permalink: /freqtrade/functions
categories:
  - freqtrade
tags:
  - freqtrade
---



## populate_indicators 
`populate_indicators` æ˜¯ Freqtrade ç­–ç•¥ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒå‡½æ•°ï¼Œç”¨äºåœ¨æ•°æ®å¸§ï¼ˆDataFrameï¼‰ä¸­è®¡ç®—å’Œå¡«å……å„ç§æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ RSIã€MACDã€å‡çº¿ç­‰ï¼‰ï¼Œä¸ºåç»­çš„ä¹°å–ä¿¡å·åˆ¤æ–­æä¾›ä¾æ®ã€‚

### æ‰§è¡Œé¢‘ç‡ä¸åœºæ™¯å·®å¼‚
+ **å›æµ‹ï¼ˆBacktestingï¼‰æ¨¡å¼**  
åœ¨å›æµ‹æ—¶ï¼Œ`populate_indicators` åªä¼šå¯¹å†å²æ•°æ®è°ƒç”¨ **ä¸€æ¬¡**ï¼Œä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰çš„æŒ‡æ ‡ï¼Œç»“æœå­˜å…¥æ•´ä¸ªæ•°æ®å¸§ä¸­ã€‚  
å› æ­¤å¦‚æœä½ æƒ³é’ˆå¯¹æ¯æ ¹Kçº¿åšç‰¹æ®Šå¤„ç†ï¼ˆä¾‹å¦‚è§¦å‘è­¦æŠ¥ï¼‰ï¼Œéœ€è¦è‡ªå·±ç”¨ `for` å¾ªç¯éå†æ•°æ®å¸§è¡Œè¿›è¡Œåˆ¤æ–­å’Œå¤„ç†ã€‚
+ **å®æ—¶äº¤æ˜“ï¼ˆTrade/Liveï¼‰æ¨¡å¼**  
åœ¨å®æ—¶äº¤æ˜“æ—¶ï¼Œ`populate_indicators` ä¼šåœ¨æ¯ä¸ªæ–°çš„ K çº¿ç”Ÿæˆæ—¶è¢«è°ƒç”¨ï¼Œé¢‘ç‡ä¸ç­–ç•¥çš„ `timeframe` ä¿æŒä¸€è‡´ã€‚  
å› æ­¤ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œç›´æ¥é’ˆå¯¹æœ€æ–°æ•°æ®åšè®¡ç®—æˆ–è§¦å‘é€»è¾‘ï¼Œä¸å¿…å¾ªç¯æ‰€æœ‰å†å²æ•°æ®ã€‚

### ä»£ç ç¤ºä¾‹
```python
def populate_indicators(self, dataframe: DataFrame, metadata: dict) -> DataFrame:
    # è®¡ç®— RSI æŒ‡æ ‡
    dataframe['rsi'] = ta.RSI(dataframe, timeperiod=14)
    
    # å›æµ‹æ¨¡å¼ä¸­åªè°ƒç”¨ä¸€æ¬¡ï¼Œå¦‚æœéœ€è¦é’ˆå¯¹æ¯æ ¹Kçº¿è§¦å‘äº‹ä»¶ï¼Œéœ€éå†ï¼š
    for index, row in dataframe.iterrows():
        if row['rsi'] < 30:
            # åšæŸäº›æ“ä½œï¼Œæ¯”å¦‚æ—¥å¿—æˆ–è­¦æŠ¥
            pass
    
    return dataframe
```



## populate_buy_trend 
`populate_buy_trend` æ˜¯ Freqtrade ç­–ç•¥ä¸­ç”¨äºå®šä¹‰ **ä¹°å…¥é€»è¾‘** çš„å‡½æ•°ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯æ ¹æ®å·²è®¡ç®—å¥½çš„æŠ€æœ¯æŒ‡æ ‡ï¼Œåœ¨åˆé€‚çš„æ—¶æœºæ ‡è®°å“ªæ ¹Kçº¿åº”è¯¥è§¦å‘ä¹°å…¥ä¿¡å·ã€‚

Freqtrade ä¼šè¯»å– `dataframe['buy']` åˆ—ä¸­ä¸º `1` çš„è¡Œï¼Œå¹¶åœ¨æ»¡è¶³æ¡ä»¶æ—¶å°è¯•ä¸‹ä¹°å•ã€‚

### `.loc` çš„ä½¿ç”¨è¯´æ˜
æˆ‘ä»¬ä½¿ç”¨ `dataframe.loc[æ¡ä»¶, 'buy'] = 1` çš„æ–¹å¼æ¥ä¸ºæ»¡è¶³æŸäº›æ¡ä»¶çš„Kçº¿è®¾ç½®ä¹°å…¥ä¿¡å·ï¼š

```python
dataframe.loc[dataframe['rsi'] < 30, 'buy'] = 1
```

### ä»£ç ç¤ºä¾‹
```python
def populate_buy_trend(self, dataframe: DataFrame, metadata: dict) -> DataFrame:
    # åˆå§‹åŒ–ä¹°å…¥ä¿¡å·ä¸º0ï¼ˆä¸ä¹°ï¼‰
    dataframe['buy'] = 0

    # å½“ RSI å°äº30æ—¶ï¼Œå‘å‡ºä¹°å…¥ä¿¡å·
    dataframe.loc[dataframe['rsi'] < 30, 'buy'] = 1

    return dataframe

```

## populate_sell_trend
`populate_sell_trend` æ˜¯ Freqtrade ç­–ç•¥ä¸­ç”¨äºå®šä¹‰ **å–å‡ºé€»è¾‘** çš„å‡½æ•°ã€‚å…¶ç›®æ ‡æ˜¯æ ¹æ®æŠ€æœ¯æŒ‡æ ‡æˆ–ç›ˆåˆ©æƒ…å†µï¼Œå†³å®šåœ¨å“ªäº›Kçº¿å‘å‡ºå–å‡ºä¿¡å·ã€‚

Freqtrade ä¼šè¯»å– `dataframe['sell']` åˆ—ä¸­ä¸º `1` çš„è¡Œï¼Œå¹¶å°è¯•åœ¨è¿™äº›Kçº¿å‘èµ·å–å•ã€‚

### `.loc` çš„ä½¿ç”¨è¯´æ˜
å’Œä¹°å…¥é€»è¾‘ç±»ä¼¼ï¼Œå–å‡ºé€»è¾‘é€šè¿‡ `.loc` è®¾ç½®ï¼š

```python
dataframe.loc[dataframe['rsi'] > 70, 'sell'] = 1
```

### ä»£ç ç¤ºä¾‹
```python
def populate_sell_trend(self, dataframe: DataFrame, metadata: dict) -> DataFrame:
    # åˆå§‹åŒ–å–å‡ºä¿¡å·ä¸º0ï¼ˆä¸å–ï¼‰
    dataframe['sell'] = 0

    # å½“ RSI å¤§äº70æ—¶ï¼Œå‘å‡ºå–å‡ºä¿¡å·
    dataframe.loc[dataframe['rsi'] > 70, 'sell'] = 1

    return dataframe

```



`custom_exit_price` æ˜¯ Freqtrade ç­–ç•¥æ¡†æ¶ä¸­çš„ä¸€ä¸ªé’©å­æ–¹æ³•ï¼ˆhookï¼‰ï¼Œå…è®¸ä½ **è‡ªå®šä¹‰å–å‡ºä»·æ ¼ï¼ˆå‡ºåœºä»·æ ¼ï¼‰**ã€‚

åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒFreqtrade ä¼šæ ¹æ®ç­–ç•¥é…ç½®çš„ `minimal_roi`ã€`stoploss` æˆ–ä½ åœ¨ç­–ç•¥ä¸­è®¾ç½®çš„ `exit_tag` ç­‰æ¡ä»¶æ¥å‘èµ·å–å‡ºè¯·æ±‚ï¼Œè€Œ `custom_exit_price` å¯ä»¥è®©ä½ ï¼š

+ æ›´åŠ ç²¾å‡†åœ°æ§åˆ¶å®é™…æŒ‚å•ä»·æ ¼ï¼ˆlimit priceï¼‰
+ å®ç°ç±»ä¼¼æŒ‚å•å–å‡ºçš„æ•ˆæœ
+ å®ç°åŠ¨æ€è°ƒæ•´å–å‡ºä»·çš„é€»è¾‘ï¼Œä¾‹å¦‚ï¼š
    - å½“å‰ä»·æ ¼åç¦»ç†æƒ³ä»·æ ¼å¤ªå¤šæ—¶ä¸ä¸Šè½¦
    - æ ¹æ®æ»‘ç‚¹ã€æµåŠ¨æ€§è°ƒæ•´ç›®æ ‡å–å‡ºä»·

---

### ä»£ç ç¤ºä¾‹
```python
def custom_exit_price(self, pair, trade, current_time, current_rate, current_profit, exit_tag, **kwargs) -> float:
    """
    è‡ªå®šä¹‰é€€å‡ºä»·æ ¼ç­–ç•¥ - å›ºå®šåŠ ä»·å¹³ä»“

    ç­–ç•¥é€»è¾‘ï¼š
    - å§‹ç»ˆå°†å¹³ä»“ä»·æ ¼è®¾ç½®ä¸ºå½“å‰å¸‚ä»·ä¸Šæµ® 1%ï¼Œæé«˜å–å‡ºä»·æ ¼ï¼Œç­‰å¾…å¸‚åœºåƒå•ã€‚
    - æ³¨æ„ï¼šè¿™ç§æ–¹æ³•é€‚ç”¨äºé™ä»·å–å‡ºï¼Œå­˜åœ¨è®¢å•æ— æ³•æˆäº¤çš„é£é™©ã€‚

    :param pair: å½“å‰äº¤æ˜“å¯¹ï¼ˆå¦‚ 'BTC/USDT'ï¼‰
    :param trade: å½“å‰ Trade å®ä¾‹ï¼ŒåŒ…å«å¼€ä»“ä¿¡æ¯ç­‰
    :param current_time: å½“å‰æ—¶é—´æˆ³
    :param current_rate: å½“å‰å¸‚ä»·
    :param current_profit: å½“å‰æ”¶ç›Šç‡
    :param exit_tag: é€€å‡ºæ ‡ç­¾ï¼ˆå¯è‡ªå®šä¹‰è¯†åˆ«é€€å‡ºåŸå› ï¼‰
    :param kwargs: å…¶ä»–å‚æ•°ï¼ˆå¤‡ç”¨ï¼‰
    :return: ç›®æ ‡é€€å‡ºä»·æ ¼ï¼ˆfloatï¼‰ï¼Œæœºå™¨äººä¼šæŒ‚å•ä»¥æ­¤ä»·æ ¼å–å‡º
    """
    target_price = current_rate * 1.01  # å›ºå®šåŠ ä»· 1%
    return target_price

```

```python
def custom_exit_price(self, pair, trade, current_time, current_rate, current_profit, exit_tag, **kwargs) -> float:
    """
    è‡ªå®šä¹‰é€€å‡ºä»·æ ¼ç­–ç•¥ - ä»…åœ¨ç›ˆåˆ©æ—¶ç•¥å¾®åŠ ä»·å¹³ä»“

    ç­–ç•¥é€»è¾‘ï¼š
    - å¦‚æœå½“å‰ç›ˆåˆ©è¶…è¿‡ 5%ï¼Œä»¥å½“å‰ä»·æ ¼ä¸Šæµ® 0.2% å‡ºå”®ï¼Œè¿½æ±‚æ›´ä¼˜åˆ©æ¶¦ã€‚
    - å¦‚æœå½“å‰æœªè¾¾ç›ˆåˆ©æ¡ä»¶ï¼Œåˆ™ä¸ä¿®æ”¹é€€å‡ºä»·æ ¼ï¼Œä½¿ç”¨é»˜è®¤æœºåˆ¶ã€‚

    :param pair: å½“å‰äº¤æ˜“å¯¹
    :param trade: å½“å‰çš„äº¤æ˜“å¯¹è±¡
    :param current_time: å½“å‰æ—¶é—´æˆ³
    :param current_rate: å½“å‰ä»·æ ¼ï¼ˆå¸‚ä»·ï¼‰
    :param current_profit: å½“å‰åˆ©æ¶¦ï¼ˆå¦‚ 0.05 è¡¨ç¤º 5%ï¼‰
    :param exit_tag: é€€å‡ºæ ‡ç­¾ï¼ˆå¯ç”¨äºè®°å½•é€€å‡ºåŸå› ï¼‰
    :param kwargs: å…¶ä»–å‚æ•°
    :return:
        - float: è¿”å›æ–°çš„æŒ‚å•é€€å‡ºä»·æ ¼
        - None: ä½¿ç”¨é»˜è®¤é€€å‡ºé€»è¾‘ï¼ˆå¦‚ custom_exit æˆ– minimal_roiï¼‰
    """
    if current_profit > 0.05:
        return current_rate * 1.002  # å½“å‰ä»·æ ¼ä¸Šæ¶¨ 0.2% åä½œä¸ºç›®æ ‡é€€å‡ºä»·

    return None  # ä¸è®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤é€€å‡ºä»·æ ¼

```

## custom_stoploss
`custom_stoploss` å…è®¸ä½ è‡ªå®šä¹‰åŠ¨æ€çš„æ­¢æŸé€»è¾‘ã€‚é€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œä½ å¯ä»¥æ ¹æ®å¸‚åœºè¡Œæƒ…æˆ–ä»“ä½çŠ¶æ€åŠ¨æ€è°ƒæ•´æ­¢æŸä»·æ ¼ï¼Œå®ç°æ›´çµæ´»çš„é£é™©æ§åˆ¶ã€‚

ä¾‹å¦‚ï¼šåœ¨å¸‚åœºä¸Šæ¶¨è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åŠ¨æ€è®¾å®šâ€œé«˜ä½ä¸‹è·Œ2%â€çš„æ­¢æŸç­–ç•¥ï¼Œæœ‰æ•ˆä¿æŠ¤å·²è·å¾—çš„åˆ©æ¶¦ã€‚

> **æ³¨æ„ï¼š**è¯¥å‡½æ•°ä¸»è¦ç”¨äº**æ­¢æŸ**ï¼Œ**ä¸æ”¯æŒæ­¢ç›ˆ**é€»è¾‘ã€‚å¦‚æœä½ æƒ³æ§åˆ¶æ­¢ç›ˆï¼Œåº”è¯¥ä½¿ç”¨ `custom_exit`ã€‚

| <font style="color:rgb(102, 102, 102);">é˜¶æ®µ</font> | <font style="color:rgb(102, 102, 102);">ä»·æ ¼</font> | <font style="color:rgb(102, 102, 102);">æ­¢æŸä»·</font> | <font style="color:rgb(102, 102, 102);">è¯´æ˜</font> |
| --- | --- | --- | --- |
| <font style="color:rgb(102, 102, 102);">å¼€ä»“åˆå§‹</font> | <font style="color:rgb(102, 102, 102);">100</font> | <font style="color:rgb(102, 102, 102);">100 Ã— (1 - 2%) = 98</font> | <font style="color:rgb(102, 102, 102);">åˆå§‹æ­¢æŸï¼Œé˜²æ­¢ç«‹åˆ»äºæŸ</font> |
| <font style="color:rgb(102, 102, 102);">ç¬¬1æ¬¡ä¸Šæ¶¨</font> | <font style="color:rgb(102, 102, 102);">105</font> | <font style="color:rgb(102, 102, 102);">105 Ã— (1 - 2%) = 102.9</font> | <font style="color:rgb(102, 102, 102);">æ­¢æŸä»·ä¸Šç§»ï¼Œé”å®šéƒ¨åˆ†åˆ©æ¶¦</font> |
| <font style="color:rgb(102, 102, 102);">ç¬¬2æ¬¡ä¸Šæ¶¨</font> | <font style="color:rgb(102, 102, 102);">110.25</font> | <font style="color:rgb(102, 102, 102);">110.25 Ã— (1 - 2%) = 107.945</font> | <font style="color:rgb(102, 102, 102);">ç»§ç»­è·Ÿè¸ªæ­¢æŸï¼Œä¿æŠ¤åˆ©æ¶¦æ›´è¿›ä¸€æ­¥</font> |
| <font style="color:rgb(102, 102, 102);">ç¬¬3æ¬¡ä¸Šæ¶¨</font> | <font style="color:rgb(102, 102, 102);">115.76</font> | <font style="color:rgb(102, 102, 102);">115.76 Ã— (1 - 2%) = 113.45</font> | <font style="color:rgb(102, 102, 102);">æŒç»­è¿½è¸ªæ­¢æŸ</font> |


### ç¤ºä¾‹ä»£ç 
```python
def custom_stoploss(self, trade, current_time, current_rate, current_profit, **kwargs) -> float:
    """
    è‡ªå®šä¹‰æ­¢æŸï¼Œæ ¹æ®å½“å‰ç›ˆåˆ©åŠ¨æ€è°ƒæ•´æ­¢æŸç‚¹
    éœ€æ±‚ï¼š
    - åˆå§‹ä¹°å…¥ä»·ä¸ºåŸºå‡†ï¼Œåˆå§‹æ­¢æŸä¸ºä¹°å…¥ä»·ä¸‹æ–¹2%
    - æ¯ä¸Šæ¶¨5%ï¼Œå°†æ­¢æŸä»·ä¸Šç§»åˆ°å½“å‰ä»·æ ¼ä¸‹æ–¹2%
    - æ­¢æŸåŠ¨æ€è¿½è¸ªï¼Œé˜²æ­¢åˆ©æ¶¦å›æ’¤è¶…è¿‡2%

    :param trade: å½“å‰äº¤æ˜“å¯¹è±¡ï¼ŒåŒ…å«ä¹°å…¥ä»·æ ¼ç­‰ä¿¡æ¯
    :param current_time: å½“å‰æ—¶é—´
    :param current_rate: å½“å‰ä»·æ ¼
    :param current_profit: å½“å‰åˆ©æ¶¦ç‡ï¼ˆç›¸å¯¹äºä¹°å…¥ä»·ï¼‰
    :return: æ–°çš„æ­¢æŸä»·æ ¼ï¼Œè¿”å› -1 è¡¨ç¤ºä½¿ç”¨é»˜è®¤æ­¢æŸ
    """
    entry_price = trade.open_rate  # ä¹°å…¥ä»·
    if entry_price is None:
        # æ²¡æœ‰ä¹°å…¥ä»·ä¿¡æ¯ï¼Œä½¿ç”¨é»˜è®¤æ­¢æŸ
        return -1

    # è®¡ç®—å·²ç»ä¸Šæ¶¨äº†å¤šå°‘ä¸ª5%
    steps = int(current_profit // 0.05)  # æ¯ä¸Šæ¶¨5%ä¸€ä¸ªstep

    if steps <= 0:
        # æœªæ¶¨åˆ°ç¬¬ä¸€ä¸ª5%ï¼Œä¿æŒåˆå§‹æ­¢æŸä¹°å…¥ä»·-2%
        return entry_price * 0.98

    # åŠ¨æ€æ­¢æŸä»·æ ¼ = å½“å‰ä»·æ ¼ä¸‹æ–¹2%
    new_stoploss = current_rate * 0.98

    # ä¸èƒ½ä½äºåˆå§‹æ­¢æŸä»·
    min_stoploss = entry_price * 0.98

    if new_stoploss < min_stoploss:
        new_stoploss = min_stoploss

    return new_stoploss

```

## custom_exit
`custom_exit` ç”¨äºå®Œå…¨è‡ªå®šä¹‰å¹³ä»“é€»è¾‘ï¼Œé€‚ç”¨äºå¤æ‚çš„æ­¢ç›ˆæ­¢æŸã€èµ„é‡‘ç®¡ç†ã€é£é™©æ§åˆ¶ç­‰ç­–ç•¥ã€‚  
ä½ å¯ä»¥åœ¨è¿™é‡Œå®ç°ä»»æ„æ¡ä»¶æ»¡è¶³æ—¶çš„å¹³ä»“ä¿¡å·ï¼ˆæ­¢ç›ˆã€æ­¢æŸã€æˆ–è€…å…¶ä»–åŸå› ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥è¿”å›ç‰¹å®šçš„å¹³ä»“ä»·æ ¼ã€‚

### ç¤ºä¾‹ä»£ç 
```python

def custom_exit(self, trade, current_time, current_rate, current_profit, **kwargs) -> float | bool:
    """
    è‡ªå®šä¹‰å¹³ä»“ç­–ç•¥ï¼Œå®ç°å¤æ‚æ­¢ç›ˆæ­¢æŸé€»è¾‘
    - å½“åˆ©æ¶¦è¶…è¿‡5%æ—¶ï¼Œç«‹å³å¹³ä»“æ­¢ç›ˆ
    - å½“äºæŸè¶…è¿‡3%æ—¶ï¼Œç«‹å³å¹³ä»“æ­¢æŸ
    - å¦åˆ™ç»§ç»­æŒä»“

    :param trade: å½“å‰äº¤æ˜“å¯¹è±¡
    :param current_time: å½“å‰æ—¶é—´
    :param current_rate: å½“å‰ä»·æ ¼
    :param current_profit: å½“å‰åˆ©æ¶¦ç‡
    :return: è¿”å›å¹³ä»“ä»·æ ¼ï¼ˆfloatï¼‰æˆ–Trueè¡¨ç¤ºæŒ‰å¸‚ä»·å¹³ä»“ï¼Œè¿”å› False è¡¨ç¤ºä¸å¹³ä»“
    """
    if current_profit > 0.05:
        return current_rate  # æŒ‰å½“å‰ä»·æ ¼å¹³ä»“ï¼Œæ­¢ç›ˆ
    if current_profit < -0.03:
        return current_rate  # æŒ‰å½“å‰ä»·æ ¼å¹³ä»“ï¼Œæ­¢æŸ
    return False  # ç»§ç»­æŒä»“
```




## custom_exit_price
| æ–¹é¢ | custom_stoploss | custom_exit |
| --- | --- | --- |
| **ä½œç”¨** | è‡ªå®šä¹‰åŠ¨æ€æ­¢æŸä»·æ ¼ï¼Œä¸»è¦ç”¨äºè®¾ç½®æˆ–è°ƒæ•´æ­¢æŸç‚¹ã€‚ | å®Œå…¨è‡ªå®šä¹‰å¹³ä»“é€»è¾‘ï¼ŒåŒ…æ‹¬æ­¢ç›ˆã€æ­¢æŸã€æˆ–å…¶ä»–å¹³ä»“æ¡ä»¶ã€‚ |
| **æ­¢ç›ˆåŠŸèƒ½** | ä¸æ”¯æŒæ­¢ç›ˆï¼Œåªèƒ½ç”¨æ¥æ§åˆ¶æ­¢æŸã€‚ | æ”¯æŒæ­¢ç›ˆå’Œæ­¢æŸï¼Œèƒ½å¤Ÿå®ç°å¤æ‚çš„å¹³ä»“ç­–ç•¥ã€‚ |
| **è¿”å›å€¼** | è¿”å›æ–°çš„æ­¢æŸä»·æ ¼ï¼ˆfloatï¼‰ï¼Œæˆ– `-1` è¡¨ç¤ºä½¿ç”¨é»˜è®¤æ­¢æŸã€‚ | è¿”å›å¹³ä»“ä»·æ ¼ï¼ˆfloatï¼‰æˆ– `True` è¡¨ç¤ºæŒ‰å¸‚ä»·å¹³ä»“ï¼Œ`False` è¡¨ç¤ºä¸å¹³ä»“ã€‚ |
| **è°ƒç”¨æ—¶æœº** | åœ¨äº¤æ˜“æŒä»“æœŸé—´åŠ¨æ€è®¡ç®—æ­¢æŸç‚¹ï¼Œå®æ—¶è°ƒæ•´æ­¢æŸã€‚ | åˆ¤æ–­æ˜¯å¦éœ€è¦å¹³ä»“ï¼Œè§¦å‘äº¤æ˜“ç»“æŸï¼ˆæ­¢ç›ˆæˆ–æ­¢æŸï¼‰ã€‚ |
| **ä½¿ç”¨åœºæ™¯** | é€‚åˆå®ç°ç§»åŠ¨æ­¢æŸã€è·Ÿè¸ªæ­¢æŸç­‰é£é™©æ§åˆ¶ç­–ç•¥ã€‚ | é€‚åˆè‡ªå®šä¹‰å¤æ‚çš„æ­¢ç›ˆã€æ­¢æŸã€èµ„é‡‘ç®¡ç†æˆ–ç‰¹æ®Šå¹³ä»“è§„åˆ™ã€‚ |


---

### ç®€å•æ€»ç»“ï¼š
+ `custom_stoploss` ä¾§é‡äºâ€œåŠ¨æ€è°ƒæ•´æ­¢æŸç‚¹â€ï¼Œæ§åˆ¶é£é™©ï¼Œé˜²æ­¢äºæŸæ‰©å¤§ã€‚  
+ `custom_exit` æ˜¯â€œå…¨æƒæ§åˆ¶å¹³ä»“æ—¶æœºå’Œä»·æ ¼â€ï¼Œå¯å®ç°ä»»ä½•å¤æ‚çš„å¹³ä»“é€»è¾‘ï¼ˆæ­¢ç›ˆæ­¢æŸæˆ–å…¶ä»–åŸå› ï¼‰ã€‚

äºŒè€…å¯ä»¥é…åˆä½¿ç”¨ï¼Œå®ç°æ›´çµæ´»å’Œæ™ºèƒ½çš„äº¤æ˜“ç®¡ç†ã€‚





## custom_exit_price å’Œ custom_exit åŒºåˆ«
| å‡½æ•°å | å¹³ä»“ç±»å‹ | è¯´æ˜ |
| --- | --- | --- |
| `custom_exit_price` | ğŸŸ¡ é™ä»·å• | å®ç°é™ä»·å¹³ä»“ï¼Œ**èµšæ›´å¤šä½†ä¸ä¿è¯æˆäº¤** |
| `custom_exit` | ğŸŸ¢ å¸‚ä»·å• | å®ç°å¸‚ä»·å¹³ä»“ï¼Œ**å¿«é€Ÿé€€å‡ºä½†ä»·æ ¼ç•¥å·®** |


```python
def custom_exit_price(self, pair, trade, current_time, current_rate, current_profit, exit_tag, **kwargs):
    if current_profit > 0.05:
        return current_rate * 1.01  # è®¾ä¸€ä¸ªé«˜äºå½“å‰çš„é™ä»·å–å•
    return None

def custom_exit(self, trade, current_time, current_rate, current_profit, **kwargs):
    if current_profit > 0.10:
        return True  # ç›ˆåˆ©å¤ªé«˜ï¼Œç›´æ¥å¸‚ä»·å¹³ä»“
    return False

```




## check_entry_timeout ï½œ check_exit_timeout
+ `check_entry_timeout` è‡ªå®šä¹‰åˆ¤æ–­ä¹°å…¥æŒ‚å•ï¼ˆå…¥åœºè®¢å•ï¼‰æ˜¯å¦è¶…æ—¶æœªæˆäº¤ï¼Œä»è€Œå†³å®šæ˜¯å¦å–æ¶ˆè¯¥æŒ‚å•ï¼Œé¿å…æŒ‚å•é•¿æ—¶é—´æ— æ•ˆå ç”¨èµ„é‡‘ã€‚
+ `check_exit_timeout` è‡ªå®šä¹‰åˆ¤æ–­å–å‡ºæŒ‚å•ï¼ˆå‡ºåœºè®¢å•ï¼‰æ˜¯å¦è¶…æ—¶æœªæˆäº¤ï¼Œå†³å®šæ˜¯å¦å–æ¶ˆè¯¥å–å•æŒ‚å•ï¼Œé¿å…æŒ‚å•é•¿æ—¶é—´æ— æ•ˆã€‚


```python
def check_entry_timeout(self, pair: str, trade: Trade, order: Order,
                        current_time: datetime, **kwargs) -> bool:
    """
    åˆ¤æ–­æ˜¯å¦å–æ¶ˆæŒ‚å• / æ”¾å¼ƒå…¥åœºã€‚
    
    å‚æ•°ï¼š
        pair: å½“å‰äº¤æ˜“å¯¹ï¼ˆå¦‚ 'BTC/USDT'ï¼‰
        trade: å½“å‰æŒ‚å•å¯¹åº”çš„ Trade å¯¹è±¡ï¼ˆåŒ…å«å¼€ä»“ä»·æ ¼ã€æ—¶é—´ç­‰ä¿¡æ¯ï¼‰
        order: å½“å‰æ­£åœ¨æŒ‚çš„è®¢å•
        current_time: å½“å‰æ—¶é—´ï¼ˆç”±ç³»ç»Ÿä¼ å…¥ï¼‰

    è¿”å›ï¼š
        True è¡¨ç¤ºæ”¾å¼ƒäº¤æ˜“ï¼Œå–æ¶ˆæŒ‚å•
        False è¡¨ç¤ºç»§ç»­ç­‰å¾…æŒ‚å•æˆäº¤
    """

    # å¯¹äºä»·æ ¼é«˜äº 100 USDT çš„å¸ï¼ˆå¦‚ BTCï¼‰ï¼Œå¦‚æœæŒ‚å•è¶…è¿‡ 5 åˆ†é’Ÿä»æœªæˆäº¤ï¼Œåˆ™å–æ¶ˆ
    if trade.open_rate > 100 and trade.open_date_utc < current_time - timedelta(minutes=5):
        return True

    # å¯¹äºä»·æ ¼é«˜äº 10 USDT çš„å¸ï¼ˆå¦‚ LTCã€BNBï¼‰ï¼ŒæŒ‚å•è¶…è¿‡ 3 åˆ†é’Ÿæœªæˆäº¤ä¹Ÿå–æ¶ˆ
    elif trade.open_rate > 10 and trade.open_date_utc < current_time - timedelta(minutes=3):
        return True

    # å¯¹äºä½ä»·å¸ï¼ˆå¦‚ SHIBã€DOGEï¼Œä»·æ ¼ä½äº 1 USDTï¼‰ï¼Œæœ€å¤šå…è®¸æŒ‚å• 24 å°æ—¶
    elif trade.open_rate < 1 and trade.open_date_utc < current_time - timedelta(hours=24):
        return True

    # å¦‚æœä»¥ä¸Šæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™ç»§ç»­ç­‰å¾…è®¢å•æˆäº¤ï¼ˆä¸å–æ¶ˆï¼‰
    return False

def check_exit_timeout(self, pair: str, trade: Trade, order: Order,
                       current_time: datetime, **kwargs) -> bool:
    """
    åˆ¤æ–­æ˜¯å¦å–æ¶ˆé€€å‡ºæŒ‚å• / æ”¾å¼ƒå¹³ä»“ã€‚
    
    å‚æ•°ï¼š
        pair: å½“å‰äº¤æ˜“å¯¹ï¼ˆå¦‚ 'BTC/USDT'ï¼‰
        trade: å½“å‰æŒ‚å•å¯¹åº”çš„ Trade å¯¹è±¡ï¼ˆåŒ…å«å¼€ä»“ä»·æ ¼ã€æ—¶é—´ç­‰ä¿¡æ¯ï¼‰
        order: å½“å‰æ­£åœ¨æŒ‚çš„å¹³ä»“è®¢å•
        current_time: å½“å‰æ—¶é—´ï¼ˆç”±ç³»ç»Ÿä¼ å…¥ï¼‰

    è¿”å›ï¼š
        True è¡¨ç¤ºæ”¾å¼ƒå¹³ä»“æŒ‚å•ï¼Œå–æ¶ˆè®¢å•
        False è¡¨ç¤ºç»§ç»­ç­‰å¾…æŒ‚å•æˆäº¤
    """

    # å¯¹äºä»·æ ¼é«˜äº 100 USDT çš„å¸ï¼ˆå¦‚ BTCï¼‰ï¼Œå¦‚æœæŒ‚å•è¶…è¿‡ 5 åˆ†é’Ÿä»æœªæˆäº¤ï¼Œåˆ™å–æ¶ˆé€€å‡ºæŒ‚å•
    if trade.open_rate > 100 and trade.open_date_utc < current_time - timedelta(minutes=5):
        return True

    # å¯¹äºä»·æ ¼é«˜äº 10 USDT çš„å¸ï¼ˆå¦‚ LTCã€BNBï¼‰ï¼ŒæŒ‚å•è¶…è¿‡ 3 åˆ†é’Ÿæœªæˆäº¤ä¹Ÿå–æ¶ˆé€€å‡ºæŒ‚å•
    elif trade.open_rate > 10 and trade.open_date_utc < current_time - timedelta(minutes=3):
        return True

    # å¯¹äºä½ä»·å¸ï¼ˆå¦‚ SHIBã€DOGEï¼Œä»·æ ¼ä½äº 1 USDTï¼‰ï¼Œæœ€å¤šå…è®¸æŒ‚å• 24 å°æ—¶
    elif trade.open_rate < 1 and trade.open_date_utc < current_time - timedelta(hours=24):
        return True

    # å¦‚æœä»¥ä¸Šæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™ç»§ç»­ç­‰å¾…é€€å‡ºè®¢å•æˆäº¤ï¼ˆä¸å–æ¶ˆï¼‰
    return False

```


## confirm_trade_entry

---

### ä½œç”¨

`confirm_trade_entry` ç”¨äº**å¯¹å³å°†åˆ›å»ºçš„ä¹°å…¥è®¢å•è¿›è¡Œæœ€ç»ˆç¡®è®¤**ï¼Œå¯åœ¨æ­¤æ‰§è¡Œé¢å¤–çš„è‡ªå®šä¹‰é€»è¾‘ï¼Œå†³å®šæ˜¯å¦å…è®¸è¯¥ç¬”å…¥åœºäº¤æ˜“æ‰§è¡Œã€‚

é€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œä½ å¯ä»¥åŠ¨æ€æ‹’ç»æˆ–å…è®¸ä¹°å…¥è®¢å•ï¼Œä»è€Œå®ç°æ›´çµæ´»çš„äº¤æ˜“æ§åˆ¶ï¼Œæ¯”å¦‚æ ¹æ®å½“å‰èµ„é‡‘çŠ¶å†µã€å¤–éƒ¨ä¿¡å·æˆ–é¢å¤–é£é™©åˆ¤æ–­ç­‰ã€‚

---

### ä»£ç ç¤ºä¾‹

```python
def confirm_trade_entry(self, pair: str, order_type: str, amount: float, price: float,
                        trade: Trade, current_time: datetime, **kwargs) -> bool:
    # ä¾‹å¦‚ï¼šå¦‚æœè´¦æˆ·ä½™é¢ä¸è¶³ï¼Œæ‹’ç»ä¹°å…¥
    if self.wallets.get_available_amount() < amount * price:
        return False

    # ä¾‹å¦‚ï¼šä»…å…è®¸æŒ‡å®šæ—¶é—´æ®µå†…ä¹°å…¥
    if current_time.hour < 9 or current_time.hour > 17:
        return False

    # é»˜è®¤å…è®¸ä¹°å…¥
    return True
```

## confirm_trade_exit
`confirm_trade_exit` æ˜¯ Freqtrade ç­–ç•¥ä¸­çš„ä¸€ä¸ªå¯é€‰å›è°ƒå‡½æ•°ï¼Œç”¨äº**å¯¹å³å°†æ‰§è¡Œçš„å–å‡ºï¼ˆå¹³ä»“ï¼‰è®¢å•è¿›è¡Œæœ€ç»ˆç¡®è®¤**ã€‚é€šè¿‡æ­¤å‡½æ•°ï¼Œå¯ä»¥æ ¹æ®è‡ªå®šä¹‰é€»è¾‘å†³å®šæ˜¯å¦å…è®¸è¯¥ç¬”å¹³ä»“äº¤æ˜“æ‰§è¡Œã€‚

è¿™ä¸ºç­–ç•¥æä¾›äº†åœ¨å¹³ä»“æ—¶çš„é¢å¤–æ§åˆ¶å±‚ï¼Œæ–¹ä¾¿å®ç°æ›´çµæ´»çš„é£é™©ç®¡ç†å’Œäº¤æ˜“è§„åˆ™ã€‚

### é€€å‡ºåŸå› è°ƒç”¨é¡ºåºï¼ˆä¼˜å…ˆçº§é¡ºåºï¼‰
1. **populate_exit_trend / custom_exit**  
   - æ¥è‡ªç­–ç•¥ä¸­è‡ªå®šä¹‰çš„é€€å‡ºä¿¡å·æˆ–è°ƒç”¨ `custom_exit` æ–¹æ³•è§¦å‘çš„å¹³ä»“ã€‚
2. **stop_loss**  
   - è§¦å‘æ­¢æŸæ¡ä»¶æ—¶çš„å¹³ä»“ã€‚
3. **roi**  
   - è¾¾åˆ°é¢„è®¾æ”¶ç›Šç›®æ ‡æ—¶çš„å¹³ä»“ã€‚
4. **trailing_stop_loss**  
   - è§¦å‘è¿½è¸ªæ­¢æŸæ¡ä»¶æ—¶çš„å¹³ä»“ã€‚
---

### å½±å“

- åœ¨ç­–ç•¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ`confirm_trade_exit()` ä¼šæŒ‰ä»¥ä¸Šé¡ºåºï¼Œåˆ†åˆ«é’ˆå¯¹æ¯ä¸ªé€€å‡ºåŸå› åˆ¤æ–­æ˜¯å¦å…è®¸æ‰§è¡Œè¯¥é€€å‡ºæ“ä½œã€‚
- åªè¦æœ‰ä¸€æ¬¡è°ƒç”¨è¿”å› `True`ï¼Œå¯¹åº”é€€å‡ºåŸå› çš„å–å•å°±ä¼šè¢«æ‰§è¡Œã€‚
- å¦‚æœè¿”å› `False`ï¼Œåˆ™è¯¥é€€å‡ºåŸå› å¯¹åº”çš„å–å•ä¼šè¢«è·³è¿‡ï¼ˆä¸æ‰§è¡Œï¼‰ã€‚

---
```python
def confirm_trade_exit(self, pair: str, order_type: str, amount: float, price: float,
                       trade: Trade, current_time: datetime, **kwargs) -> bool:
    # ä¾‹å¦‚ï¼šåªå…è®¸åœ¨äº¤æ˜“æ—¶é—´æ®µå†…å¹³ä»“
    if current_time.hour < 9 or current_time.hour > 17:
        return False

    # ä¾‹å¦‚ï¼šæ ¹æ®å½“å‰æŒä»“ç›ˆåˆ©æƒ…å†µå†³å®šæ˜¯å¦å…è®¸å¹³ä»“
    profit = (price - trade.open_rate) / trade.open_rate
    if profit < 0.01:  # ç›ˆåˆ©å°‘äº1%ä¸å–å‡º
        return False

    # é»˜è®¤å…è®¸å¹³ä»“
    return True

```

---


## order_filled 
`order_filled` æ˜¯ Freqtrade ç­–ç•¥ä¸­çš„ä¸€ä¸ªå¯é€‰å›è°ƒå‡½æ•°ï¼Œç”¨äº**å½“è®¢å•å®Œå…¨æˆäº¤æ—¶è§¦å‘æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘**ã€‚

é€šè¿‡è¯¥å‡½æ•°ï¼Œä½ å¯ä»¥åœ¨è®¢å•æˆäº¤åè¿›è¡Œé¢å¤–çš„æ“ä½œï¼Œå¦‚æ›´æ–°çŠ¶æ€ã€è®°å½•æ—¥å¿—ã€è§¦å‘å¤–éƒ¨é€šçŸ¥æˆ–æ‰§è¡Œè¡¥å……äº¤æ˜“é€»è¾‘ã€‚

---

### ä»£ç ç¤ºä¾‹

```python
def order_filled(self, order: Order, trade: Trade, current_time: datetime, **kwargs) -> None:
    """
    è®¢å•æˆäº¤åå›è°ƒå‡½æ•°ã€‚

    å‚æ•°:
        pair: äº¤æ˜“å¯¹åç§°ï¼Œå¦‚ "BTC/USDT"
        trade: å½“å‰æŒä»“å¯¹è±¡
        order: åˆšæˆäº¤çš„è®¢å•å¯¹è±¡
        current_time: å½“å‰æ—¶é—´ï¼ˆdatetimeï¼‰
        **kwargs: ä¿æŒæ­¤å‚æ•°ä»¥å…¼å®¹æœªæ¥æ›´æ–°
    """

    # è·å–è¯¥äº¤æ˜“å¯¹çš„åˆ†æåKçº¿æ•°æ®ï¼ˆDataFrameï¼‰
    dataframe, _ = self.dp.get_analyzed_dataframe(trade.pair, self.timeframe)

    # å–æœ€æ–°ä¸€æ ¹Kçº¿
    last_candle = dataframe.iloc[-1].squeeze()

    # å¦‚æœè¿™æ˜¯è¯¥ç¬”äº¤æ˜“çš„ç¬¬1æ¬¡æˆåŠŸå…¥åœºï¼Œä¸”è®¢å•æ–¹å‘ä¸å…¥åœºæ–¹å‘ä¸€è‡´
    if (trade.nr_of_successful_entries == 1) and (order.ft_order_side == trade.entry_side):
        # å°†å½“å‰Kçº¿æœ€é«˜ä»·ä¿å­˜åˆ°è¯¥äº¤æ˜“çš„è‡ªå®šä¹‰æ•°æ®ä¸­ï¼ˆæ–¹ä¾¿åç»­ç­–ç•¥ä½¿ç”¨ï¼‰
        trade.set_custom_data(key="entry_candle_high", value=last_candle["high"])

    # å‡½æ•°æ— è¿”å›å€¼
    return None
```


## custom_stake_amount
`custom_stake_amount` ç”¨äºåœ¨ç­–ç•¥ä¸­è‡ªå®šä¹‰æ¯ç¬”äº¤æ˜“çš„ä¹°å…¥ï¼ˆæˆ–åšç©ºï¼‰èµ„é‡‘æ•°é‡ï¼Œè¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å›ºå®šé‡‘é¢æˆ–æ¯”ä¾‹è®¾ç½®ï¼Œå®ç°æ›´çµæ´»çš„ä»“ä½ç®¡ç†ã€‚

### ä»£ç ç¤ºä¾‹
```python
def custom_stake_amount(self, pair: str, current_time: datetime, proposed_stake: float, **kwargs) -> float:
    # æ ¹æ®äº¤æ˜“å¯¹åç§°åŠ¨æ€è°ƒæ•´ä¹°å…¥é‡‘é¢çš„ç¤ºä¾‹å‡½æ•°
    
    # å¦‚æœäº¤æ˜“å¯¹ä»¥ "BTC" å¼€å¤´ï¼ˆä¾‹å¦‚ BTC/USDTï¼‰ï¼Œä¹°å…¥é‡‘é¢ä½¿ç”¨é»˜è®¤å»ºè®®çš„ä¸€åŠ
    if pair.startswith("BTC"):
        return proposed_stake * 0.5  # å‡å°‘ä¹°å…¥é‡‘é¢ï¼Œæ§åˆ¶é£é™©
    
    # å¦‚æœäº¤æ˜“å¯¹ä»¥ "ETH" å¼€å¤´ï¼Œä¹°å…¥é‡‘é¢ä½¿ç”¨é»˜è®¤å»ºè®®çš„80%
    elif pair.startswith("ETH"):
        return proposed_stake * 0.8  # ç•¥å¾®å‡å°‘ä¹°å…¥é‡‘é¢
    
    # å…¶ä»–å¸ç§ï¼Œä¹°å…¥é‡‘é¢ä¿æŒé»˜è®¤å»ºè®®å€¼ä¸å˜
    else:
        return proposed_stak
```


## adjust_entry_price
`adjust_entry_price` ç”¨äºåœ¨ä¸‹å•ä¹°å…¥æ—¶**åŠ¨æ€è°ƒæ•´ä¹°å…¥ä»·æ ¼**ï¼Œå®ç°å¯¹æŒ‚å•ä»·æ ¼çš„å¾®è°ƒã€‚ä¾‹å¦‚ï¼Œé¿å…æŒ‚å•è¢«ç¬é—´åƒæ‰ï¼Œæˆ–ç­‰å¾…æ›´ä¼˜ä»·æ ¼å…¥åœºã€‚

### ä»£ç ç¤ºä¾‹

```python
def adjust_entry_price(self, pair: str, price: float, current_time: datetime, **kwargs) -> float:
    # ç¤ºä¾‹ï¼šå¯¹ä¹°å…¥ä»·æ ¼åšå¾®å¹…ä¸‹è°ƒï¼Œé¿å…æŒ‚å•ç¬é—´æˆäº¤
    adjusted_price = price * 0.995  # ä¸‹è°ƒ0.5%
    return adjusted_price
```

## adjust_trade_position è°ƒæ•´äº¤æ˜“ä»“ä½
`<font style="color:rgb(102, 102, 102);">adjust_trade_position</font>`ç”¨äº**åœ¨å·²æœ‰ä»“ä½ä¸­â€œåŠ ä»“â€æˆ–â€œå‡ä»“â€**ï¼ˆä¹Ÿå°±æ˜¯åŠ¨æ€è°ƒæ•´æŒä»“é‡ï¼‰ï¼Œé€‚ç”¨äº **futuresï¼ˆåˆçº¦ï¼‰æ¨¡å¼**ã€‚**åŠ¨æ€è°ƒæ•´æŒä»“çš„ä»“ä½å¤§å°**ï¼ˆä¾‹å¦‚åŠ ä»“ã€å‡ä»“ï¼‰ï¼Œä¸æ˜¯å¼€æ–°ä»“ï¼Œä¹Ÿä¸æ˜¯å¹³ä»“ï¼Œè€Œæ˜¯åœ¨å·²æœ‰ä»“ä½ä¸Šè¿›è¡Œâ€œå¾®è°ƒâ€ã€‚

### ä»£ç ç¤ºä¾‹

```python
position_adjustment_enable = True
# ...
def adjust_trade_position(self, trade, current_time, current_rate, current_profit, **kwargs) -> Optional[float]:
    """è‡ªå®šä¹‰åŠ ä»“"""
    # æ­¤å¤„ä»£ç  æ— é™åŠ ä»“
    if current_profit > 0.10:	#	ä¸Šæ¶¨10% åŠ ä»“
        # åŠ ä»“ 10 USDT
        return 10.0
    return None

```

```python
position_adjustment_enable = True
# ...
def adjust_trade_position(self, trade, current_time, current_rate, current_profit, **kwargs) -> Optional[float]:
    """è‡ªå®šä¹‰å‡ä»“"""
    if current_profit < -0.03:
        # å‡ä»“ 50%ï¼ˆè´Ÿå€¼è¡¨ç¤ºå‡ä»“ï¼‰
        current_stake = trade.stake_amount
        return -current_stake * 0.5
    return None

```

---


## adjust_order_price
`adjust_order_price` ç”¨äºåœ¨ç­–ç•¥ä¸‹å•ï¼ˆä¹°å…¥æˆ–å–å‡ºï¼‰æ—¶**åŠ¨æ€è°ƒæ•´è®¢å•ä»·æ ¼**ï¼Œå¯å¯¹é™ä»·å•ä»·æ ¼è¿›è¡Œå¾®è°ƒï¼Œä»¥æ›´å¥½åœ°æ§åˆ¶æŒ‚å•è¡Œä¸ºã€‚

### ä»£ç ç¤ºä¾‹
```python
def adjust_order_price(self, pair: str, order_type: str, price: float, current_time: datetime, **kwargs) -> float:
    # ä¹°å…¥å•å¾®è°ƒä»·æ ¼ä¸ºåŸä»·çš„99.5%
    if order_type == "buy":
        return price * 0.995

    # å–å‡ºå•å¾®è°ƒä»·æ ¼ä¸ºåŸä»·çš„100.5%
    elif order_type == "sell":
        return price * 1.005

    # å…¶ä»–æƒ…å†µè¿”å›åŸä»·
    return price
```
---

## leverage

`leverage` ç”¨äºè®¾ç½®åˆçº¦äº¤æ˜“ä¸­çš„**æ æ†å€æ•°**ï¼Œå³æ”¾å¤§äº¤æ˜“æœ¬é‡‘çš„å€æ•°ï¼Œä»è€Œæ”¾å¤§ç›ˆåˆ©æˆ–äºæŸã€‚  
è¯¥å‚æ•°ä»…åœ¨æ”¯æŒæ æ†äº¤æ˜“çš„äº¤æ˜“æ‰€å’Œåˆçº¦å¸‚åœºæœ‰æ•ˆï¼Œå¦‚å¸å®‰åˆçº¦ã€Bybitç­‰ã€‚

### ä»£ç ç¤ºä¾‹

ä¸€èˆ¬åœ¨ `config.json` æˆ–ç­–ç•¥é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼š

```json
"leverage": 10
```
```python
def custom_leverage(self, pair: str, current_time: datetime, **kwargs) -> float:
    if pair == "BTC/USDT":
        return 15   # 15å€æ æ†
    else:
        return 5    # 3å€æ æ†
```


